<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Min Wallet - Linas Matkasse</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.ethers.io/lib/ethers-5.7.umd.min.js"></script>
    
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-gray-50 min-h-screen">
    
    <!-- Navigation -->
    <nav class="bg-white shadow-lg">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-2">
                    <span class="text-3xl">游꺔</span>
                    <span class="text-2xl font-bold text-green-700">Linas Matkasse</span>
                </div>
                <div class="flex space-x-4">
                    <a href="index.html" class="text-gray-600 hover:text-green-700">Hem</a>
                    <a href="products.html" class="text-gray-600 hover:text-green-700">Produkter</a>
                    <a href="scanner.html" class="text-gray-600 hover:text-green-700">Scanna</a>
                    <a href="wallet.html" class="text-green-700 font-semibold">Min Wallet</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-4xl mx-auto px-4 py-8">
        
        <!-- Connect Wallet Section -->
        <div id="connect-section" class="text-center py-16">
            <div class="bg-white rounded-xl shadow-lg p-12 max-w-md mx-auto">
                <div class="text-6xl mb-6">游녵</div>
                <h2 class="text-2xl font-bold text-green-800 mb-4">Anslut Din Wallet</h2>
                <p class="text-gray-600 mb-6">
                    F칬r att se dina eco-tokens beh칬ver du ansluta din wallet
                </p>
                <button
                    onclick="handleConnectWallet()"
                    class="bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition w-full">
                    游붉 Anslut MetaMask
                </button>
                <p class="text-gray-500 text-sm mt-4">
                    Har du ingen wallet? <a href="#" class="text-green-600 hover:underline">L칛s mer h칛r</a>
                </p>
            </div>
        </div>

        <!-- Wallet Content (hidden until connected) -->
        <div id="wallet-content" class="hidden">
            
            <!-- Balance Card -->
            <div class="bg-gradient-to-br from-green-600 to-green-800 rounded-xl shadow-lg p-8 text-white mb-6">
                <p class="text-green-200 mb-2">Ditt Eco-Token Saldo</p>
                <div class="flex items-baseline space-x-3">
                    <h1 class="text-6xl font-bold" id="token-balance">0</h1>
                    <span class="text-3xl">ECO</span>
                </div>
                <p class="text-green-200 mt-2">
                    = <span id="token-value-sek" class="font-semibold">0</span> SEK rabatt
                </p>
                <div class="mt-6 pt-6 border-t border-green-500 text-sm">
                    <p class="text-green-200">Wallet Address:</p>
                    <p class="font-mono text-xs break-all" id="wallet-address"></p>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="grid md:grid-cols-3 gap-6 mb-6">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="text-3xl mb-2">游늳</div>
                    <div class="text-2xl font-bold text-green-600" id="total-earned">0</div>
                    <div class="text-gray-600 text-sm">Tokens Tj칛nade</div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="text-3xl mb-2">游꾸</div>
                    <div class="text-2xl font-bold text-green-600" id="total-redeemed">0</div>
                    <div class="text-gray-600 text-sm">Tokens Anv칛nda</div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="text-3xl mb-2">游꺔</div>
                    <div class="text-2xl font-bold text-green-600" id="eco-score">0</div>
                    <div class="text-gray-600 text-sm">Eco Score</div>
                </div>
            </div>

            <!-- Transaction History -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <h3 class="text-2xl font-bold text-green-800 mb-4">游닆 Historik</h3>
                <div id="transaction-history" class="space-y-3">
                    <!-- Populated by JS -->
                </div>
            </div>

            <!-- Redemption Section -->
            <div class="bg-white rounded-xl shadow-lg p-6">
                <h3 class="text-2xl font-bold text-green-800 mb-4">游꾸 L칬s In Tokens</h3>
                <p class="text-gray-600 mb-6">Anv칛nd dina eco-tokens f칬r rabatter eller exklusiva produkter</p>
                
                <div class="grid md:grid-cols-2 gap-4">
                    <!-- Redemption Option 1 -->
                    <div class="border-2 border-green-200 rounded-lg p-4 hover:border-green-500 transition cursor-pointer">
                        <h4 class="font-semibold text-green-800 mb-2">50 SEK Rabatt</h4>
                        <p class="text-gray-600 text-sm mb-3">P친 din n칛sta best칛llning</p>
                        <div class="flex justify-between items-center">
                            <span class="text-green-600 font-bold">50 ECO</span>
                            <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm">
                                L칬s In
                            </button>
                        </div>
                    </div>

                    <!-- Redemption Option 2 -->
                    <div class="border-2 border-green-200 rounded-lg p-4 hover:border-green-500 transition cursor-pointer">
                        <h4 class="font-semibold text-green-800 mb-2">100 SEK Rabatt</h4>
                        <p class="text-gray-600 text-sm mb-3">P친 din n칛sta best칛llning</p>
                        <div class="flex justify-between items-center">
                            <span class="text-green-600 font-bold">100 ECO</span>
                            <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm">
                                L칬s In
                            </button>
                        </div>
                    </div>

                    <!-- Redemption Option 3 -->
                    <div class="border-2 border-green-200 rounded-lg p-4 hover:border-green-500 transition cursor-pointer">
                        <h4 class="font-semibold text-green-800 mb-2">Gratis Ekologisk Frukt</h4>
                        <p class="text-gray-600 text-sm mb-3">1kg s칛songens frukt</p>
                        <div class="flex justify-between items-center">
                            <span class="text-green-600 font-bold">75 ECO</span>
                            <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm">
                                L칬s In
                            </button>
                        </div>
                    </div>

                    <!-- Redemption Option 4 -->
                    <div class="border-2 border-green-200 rounded-lg p-4 hover:border-green-500 transition cursor-pointer">
                        <h4 class="font-semibold text-green-800 mb-2">Donation till WWF</h4>
                        <p class="text-gray-600 text-sm mb-3">St칬d milj칬arbete</p>
                        <div class="flex justify-between items-center">
                            <span class="text-green-600 font-bold">50 ECO</span>
                            <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm">
                                Donera
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>

    <!-- JavaScript -->
    <script src="js/config.js"></script>
    <script src="js/blockchain.js"></script>
    <script src="js/wallet.js"></script>

</body>
</html>